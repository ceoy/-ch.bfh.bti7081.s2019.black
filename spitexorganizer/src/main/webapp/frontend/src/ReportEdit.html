<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/polymer/lib/elements/dom-repeat.html">

<!-- Defines the hello-world element -->
<dom-module id="report-edit" class="container">
    <link rel="import" href="../style/normalize.min.css" type="css">
    <link rel="import" href="../style/skeleton.min.css" type="css">
    <link rel="import" href="../style/tasklist.css" type="css">

    <template>
        <!-- Input element that shows the greeting from the model -->
        <h1 id="patient-name">Patient X</h1>
        <div class="row">

            <div class="one-half column">
                <h4>Taskliste</h4>
                <ul id="tasks" class="task-list">
                    <template is="dom-repeat" items="[[tasks]]" as="task">
                        <li>
                            <input
                                    on-change="valueUpdated"
                                    type="checkbox"
                                    checked="{{task.done::input}}"> {{task.description}}
                        </li>
                    </template>
                </ul>

                <template is="dom-if" if="{{editable}}">
                    <button id="add-task" on-click="addTask">Task hinzuf√ºgen</button>
                </template>
            </div>

            <div class="one-half column">
                <h4>Bemerkung</h4>
                <template is="dom-if" if="{{editable}}">
                    <textarea class="u-full-width" id="description" value="{{description::input}}"></textarea>
                </template>
                <template is="dom-if" if="{{!editable}}">
                    {{description}}
                </template>
                <br/>
            </div>
        </div>

        <template is="dom-if" if="{{editable}}">
            <button class="button-primary" on-click="handleSaveReport">Speichern</button>
            <button class="button-primary" on-click="handleFinishReport">Speichern und Abschliessen</button>
        </template>

    </template>

    <!-- Polymer boilerplate to register the hello-world element -->
    <script>
        class ReportEdit extends Polymer.Element {
            static get is() {
                return 'report-edit'
            }
        }

        customElements.define(ReportEdit.is, ReportEdit);
    </script>
</dom-module>